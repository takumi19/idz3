# ИДЗ3
## Александров Максим Андреевич БПИ213
## Вариант 15

**Задача о клумбе – 1.** На клумбе растет 40 цветов, за ними непрерывно следят два процесса–садовника и поливают увядшие цветы, при этом оба садовника очень боятся полить один и тот же цветок, который еще не начал вянуть. **Создать приложение, моделирующее состояния цветков на клумбе и действия садовников.** *Сервер используется для изменения состояния цветов, каждый садовник — отдельный клиент.*

**Сценарий:** в сервере создается 2 треда каждый из которых отвечает за одного садовника-клиента, в треде сервер посылает клиенту номер завявшего цветка. Клиент получает сообщение от сервера и поливает цветок. После этого клиент посылает на сервер сообщение о результате. На сервере есть массив целых чисел из 40 элементов, с помощью которого треды на сервере регулируют, какой цветок завял, а какой нет при помощи мьютексов. Работа клиента завершается при нажатии *Ctrl+C*. При нажатии *Ctrl+C* на сервере завершается работа и сервера, и клиентов.

При запуске сервера необходимо передать ему порт:
``sh
$gcc server.c -o server
./server 18000
``
При запуске клиента ему необходимо передать порт, ip:
``sh
$gcc client.c -o client
./client 18000 127.0.0.1
``
Для создания нового клиента необходимо снова запустить код клиента как описано ранее.